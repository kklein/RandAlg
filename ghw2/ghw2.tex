
\documentclass[a4paper,german]{article}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{bbm}

\newcommand\loe{\mathrel{\overset{\makebox[0pt]{\mbox{\normalfont\tiny\sffamily LOE}}}{=}}}
\newcommand\ub{\mathrel{\overset{\makebox[0pt]{\mbox{\normalfont\tiny\sffamily UB}}}{\leq}}}
\newcommand\gequb{\mathrel{\overset{\makebox[0pt]{\mbox{\normalfont\tiny\sffamily UB}}}{\geq}}}

%This is how you can create a "claim"-environment (or a lemma/Theorem/definition etc environment)
\newtheorem{claim}{Claim}

%This is how you can create a command of your own, e.g. to simplify the usage signs you often use.
\newcommand{\E}{\mathbb{E}}

%Titlepage:
\title{Randomized Algorithms and Probabilistic Methods: Graded Homework 1}
\author{ Kevin Klein, collaborators: Ramon Braunwarth, Fabian Gerhardt}
\date{October 23rd 2017}


\begin{document}
\maketitle

\section*{Exercise 1}
\section*{Exercise 2}
First, we want to look into a single entry of \((Aq)\), say \((Aq)_1 = a_1\). We know that \(q \in_{u.a.r.} \{-1,1\}\) and define \(q' = \frac{q+1}{2}\). Intuitively, \(q'\) 'counts' how many indeces of \(q\) equal 1. We observe that \(q = 2q' - 1\).  Moreover we say \(m\) is the number of indeces in \(a_1\) that equal 1, i.e. \(m = \sum_{i=1}^n \mathbb{I}[a_{1i} = 1] \).
\begin{align*}
\Pr[|a_1q| \geq \sqrt {(6+\epsilon)nln(n)} ] &= \Pr[|2a_1q' - 2a_11| \geq \sqrt {(6+\epsilon)nln(n)} ] \\
 &= \Pr[|2a_1q' - m| \geq \sqrt {(6+\epsilon)nln(n)} ] \\
  &= \Pr[|a_1q' - m/2| \geq \frac{\sqrt {(6+\epsilon)nln(n)}}{2} ]
\end{align*}
Note that \(q_i'\) is a Bernoulli random variable with \(p = 1/2\), independent from all other \(q_j', i \neq j\), this will come in handy in order to use Chernoff bounds. Moreover we notice that \(\E[a_1q'] = 
a_1 \E[q'] = a_1 \cdot 1/2 = m/2 \).  Applying Corollary 5.4 (iii), we obtain:
\begin{align*}
 \Pr[|a_1q' - m/2| \geq \frac{\sqrt {(6+\epsilon)nln(n)}}{2} ] &\leq 2 e^{-(\frac{\sqrt {(6+\epsilon)nln(n)}}{2})^2 \frac{1}{3 \mu }} \\
 & \leq 2 n^{-\frac{(6+\epsilon)n}{12 m /2}} =  2 n^{-\frac{6+\epsilon}{6} \frac{n}{m}} \\
 & \leq 2 n^{-\frac{6+\epsilon}{6}} & \text{(via } m < n \text{)}
\end{align*}
It remains to show that this application was legitimate by proving that the formula's \(\delta = \frac{\sqrt {(6+\epsilon)nln(n)}}{m/2}  \in (0,1] \) for large enough \(n\). 
\begin{claim} \(\delta\) is smaller than 1 for large enough \(n\). \end{claim}
\begin{proof}
\begin{align*}
\lim_{n \to \infty} \delta &= \lim_{n \to \infty} \frac{\sqrt {nln(n)}}{m}  \leq \lim_{n \to \infty} \frac{\sqrt {nln(n)}}{n}  \\
& \leq \lim_{n \to \infty} \sqrt \frac{ {ln(n)}}{n}  \to 0
\end{align*}
\end{proof}
Hence \(\delta\) is smaller than 1 for large enough \(n\) and trivially positive, which satisfies the Chernoff bound's condition.

Our goal now is to use the bound on the probability of the first entry of \( (Aq) \) for all entries via a union bound.
\begin{align*}
\Pr[ \lVert Aq \lVert_{\infty} < \sqrt {(6+\epsilon)nln(n)}] &= \Pr[ \forall i  |(Aq)_i|  < \sqrt {(6+\epsilon)nln(n)}] \\
&= 1 - \Pr[ \exists i  |(Aq)_i|  \geq \sqrt {(6+\epsilon)nln(n)}] \\
&\gequb 1 - \sum_{i=1}^n \Pr[|(Aq)_i|  \geq \sqrt {(6+\epsilon)nln(n)}] \\
&\geq 1 - n \Pr[|(Aq)_1|  \geq \sqrt {(6+\epsilon)nln(n)}] \text{     (independence of rows)}\\
&\geq 1 - n 2 n^{-\frac{6+\epsilon}{6}}  \xrightarrow{\: n \to \infty \: } 1
\end{align*}
\section*{Exercise 3}
\section*{Exercise 4}
\subsection*{Exercise 4.1}
First, we'll bound the probability of a given subset of size \(n/2\) not containing a triangle. In this subset, there are \( {n/2 \choose 3}\) many possible triangles, over which we assume an arbitrary order. We define 
\begin{align*} 
T_i &= \mathbb{I} [\text{triangle } i \text{ is present in subset } 1] = p^3 \\
T &= \sum_{i \in {n/2 \choose 3}} T_i \\
\lambda &= \E[T] \loe \sum_{i \in {n/2 \choose 3}} \E[T_i]
\end{align*}
In order to calculate \(\Delta\), we notice that \(I_i = \{e_{i1}, e_{i2}, e_{i3} \}\), where \(e_{ik}\) are the edges constructing the triangle \(i\). We proceed by formulating a case distinction on the number of shared edges between two triangles \(i\) and \(j\).
\begin{enumerate}
\item If  they share no edges, \(I_i \cap I_j = \emptyset \).
\item If they share 1 edge, the probability of both being present is equal to the probability of those 5 eges being selected, i.e. \(\Pr[T_i \wedge T_j] = p^5\).
\item If they share 2 edges, the third edge needs to be the same for both triangles as there is at most a single edge connecting two nodes. Hence \(i = j\).
\item If they share 3 edges, \(i = j\) holds trivially. 
\end{enumerate}
We can conclude that the only relevant case is the second. It remains to inspect how frequently this case can occur. In a given subset, there are \( {n/2 \choose 3} \) possible triangles, of which each can share each of its 3 edges. When sharing an edge, the second triangle can be 'completed' by \(n/2 -3\) remaining nodes. Summing up, we have:

\begin{align*}
\Delta = {n/2 \choose 3}3(n/2 -3) p^5
\end{align*}
Janson's equality tells us:
\begin{align*}
\Pr[T = 0] = e^{- min\{\lambda, \lambda^2 / \Delta\} /4} 
\end{align*}
Let us determine said minimum.
\begin{align*}
\frac{\lambda^2}{\Delta} &= \frac{n^6 p^6}{ {n/2 \choose 3}3(n/2 -3) p^5} = \frac{n^6 p}{ {n/2 \choose 3}3(n/2 -3)} \\
&> \frac{n^6p}{n^4} = n^2p \\
&> n^2 n^{-2/3} \text{     (via } p\gg n^{-2/3} \text{)} \\
&> n = n^3 n^{-2} \\
&> n^3 p^3 = \lambda  \text{     (via } p\gg n^{-2/3} \text{)}
\end{align*}
Thus, as \( \lambda < \frac{\lambda^2}{\Delta}\) for given \(p\), it follows:
\begin{align*}
\Pr[T = 0] &= e^{-\lambda/4} = e^{-\frac{n^3p^3}{4}} \\
&= e^{-\omega(n)}    \text{     (via } p\gg n^{-2/3} \text{)}
\end{align*}

We will now use this knowledge about the probability of a given subset containing no triangle to estimate the probability of each subset containing a triangle. We observe that there are \( {n \choose n/2}\) ways to partition the nodes into subsets of size \(n/2\). 
\begin{align*}
\Pr[\text{each subset contains a triangle}] &= \Pr[ \bigwedge_i \text{subset } i \text{ contains a triangle}] \\
&= 1 - \Pr[\bigvee_i \text{subset } i \text{ contains no triangle}]
\end{align*}
We look into the latter probability.
\begin{align*}
&\Pr[\bigvee_i \text{subset } i \text{ contains no triangle}]  \\
&\ub \sum_i \Pr[\text{subset } i \text{ contains no triangle}] \\
&\leq  {n \choose n/2} \Pr[\text{subset } 1 \text{ contains no triangle}] \text{   (all subsets symmetric)} \\
&\leq \frac{2^n}{\sqrt n}  \Pr[\text{subset } 1 \text{ contains no triangle}] \text{   (Stirling approximation)} \\
&\leq \frac{2^n}{\sqrt n}  \Pr[T = 0]\\
&\leq \frac{2^n}{\sqrt n} e^{-\omega(n)} = \frac{e^{ln(2)n - \omega(n)} }{\sqrt n} \\
&\leq \frac{1}{\sqrt n \cdot e^{\omega(n) - \mathcal{O}(n)}} \xrightarrow{\: n \to \infty \: } 0
\end{align*}

It follows directly that:
\begin{align*}
\Pr[\text{each subset contains a triangle}] \xrightarrow{\: n \to \infty \: }  1 - 0 = 1
\end{align*}
\subsection*{Exercise 4.2}

\end{document}
